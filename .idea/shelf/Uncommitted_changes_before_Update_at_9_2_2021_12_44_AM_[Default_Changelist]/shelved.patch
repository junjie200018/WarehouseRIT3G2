Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"my.edu.tarc.warehouserit3g2\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.WarehouseRIT3G2\">\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/app/src/main/AndroidManifest.xml	(date 1630395406389)
@@ -1,14 +1,34 @@
 <?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
     package="my.edu.tarc.warehouserit3g2">
 
     <application
+        android:name=".KtApplication"
         android:allowBackup="true"
+        android:hardwareAccelerated="true"
         android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/Theme.WarehouseRIT3G2">
+        <activity
+            android:name=".OnReceivedDetail"
+            android:exported="true" />
+        <activity
+            android:name=".DisplayNewProductDetail"
+            android:exported="true" />
+        <activity
+            android:name=".On_Received"
+            android:exported="true" />
+        <activity
+            android:name=".productionBarcode"
+            android:exported="true" />
+        <activity
+            android:name="com.journeyapps.barcodescanner.CaptureActivity"
+            android:screenOrientation="portrait"
+            android:stateNotNeeded="true"
+            tools:replace="android:screenOrientation" />
         <activity
             android:name=".MainActivity"
             android:exported="true">
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'kotlin-android'\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId \"my.edu.tarc.warehouserit3g2\"\r\n        minSdk 19\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.core:core-ktx:1.6.0'\r\n    implementation 'androidx.appcompat:appcompat:1.3.1'\r\n    implementation 'com.google.android.material:material:1.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.0'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/app/build.gradle	(date 1630499773015)
@@ -1,6 +1,9 @@
 plugins {
     id 'com.android.application'
     id 'kotlin-android'
+    id 'com.google.gms.google-services'
+
+
 }
 
 android {
@@ -12,7 +15,7 @@
         targetSdk 31
         versionCode 1
         versionName "1.0"
-
+        multiDexEnabled true
         testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
     }
 
@@ -29,6 +32,10 @@
     kotlinOptions {
         jvmTarget = '1.8'
     }
+
+    buildFeatures{
+        dataBinding true
+    }
 }
 
 dependencies {
@@ -37,7 +44,19 @@
     implementation 'androidx.appcompat:appcompat:1.3.1'
     implementation 'com.google.android.material:material:1.4.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.1.0'
+    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'
+    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'
+    implementation 'androidx.legacy:legacy-support-v4:1.0.0'
+    implementation 'com.google.firebase:firebase-common-ktx:20.0.0'
+    implementation 'com.google.firebase:firebase-firestore-ktx:23.0.3'
     testImplementation 'junit:junit:4.+'
     androidTestImplementation 'androidx.test.ext:junit:1.1.3'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
+    implementation 'com.google.zxing:core:3.4.0'
+    implementation 'androidx.multidex:multidex:2.0.1'
+
+    implementation 'com.journeyapps:zxing-android-embedded:3.6.0'
+    implementation 'com.android.support:multidex:1.0.3'
+
+    implementation 'com.google.zxing:core:3.4.1'
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_on_received_detail.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_on_received_detail.xml b/app/src/main/res/layout/activity_on_received_detail.xml
new file mode 100644
--- /dev/null	(date 1630509245649)
+++ b/app/src/main/res/layout/activity_on_received_detail.xml	(date 1630509245649)
@@ -0,0 +1,166 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:tools="http://schemas.android.com/tools"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+<androidx.constraintlayout.widget.ConstraintLayout
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".OnReceivedDetail">
+
+    <TextView
+        android:id="@+id/textView7"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="48dp"
+        android:layout_marginTop="44dp"
+        android:text="Part No :"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <TextView
+        android:id="@+id/tvtPartNo"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView7"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView7"
+        app:layout_constraintTop_toTopOf="@+id/textView7"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <TextView
+        android:id="@+id/textView9"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="44dp"
+        android:text="Serial No :"
+        app:layout_constraintEnd_toEndOf="@+id/textView7"
+        app:layout_constraintTop_toBottomOf="@+id/textView7" />
+
+    <TextView
+        android:id="@+id/tvtSerialNo"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView9"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView9"
+        app:layout_constraintTop_toTopOf="@+id/textView9"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <TextView
+        android:id="@+id/textView11"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="48dp"
+        android:text="Quantity :"
+        app:layout_constraintEnd_toEndOf="@+id/textView9"
+        app:layout_constraintTop_toBottomOf="@+id/textView9" />
+
+    <TextView
+        android:id="@+id/tvtQuantity"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView11"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView11"
+        app:layout_constraintTop_toTopOf="@+id/textView11"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <TextView
+        android:id="@+id/textView13"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="48dp"
+        android:text="Status :"
+        app:layout_constraintEnd_toEndOf="@+id/textView11"
+        app:layout_constraintTop_toBottomOf="@+id/textView11" />
+
+    <TextView
+        android:id="@+id/tvtStatus"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView13"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView13"
+        app:layout_constraintTop_toTopOf="@+id/textView13"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <TextView
+        android:id="@+id/textView15"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="48dp"
+        android:text="Received Date :"
+        app:layout_constraintEnd_toEndOf="@+id/textView13"
+        app:layout_constraintTop_toBottomOf="@+id/textView13" />
+
+    <TextView
+        android:id="@+id/tvtReceivedDate"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView15"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView15"
+        app:layout_constraintTop_toTopOf="@+id/textView15"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <TextView
+        android:id="@+id/textView17"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="48dp"
+        android:text="ReceivedBy :"
+        app:layout_constraintEnd_toEndOf="@+id/textView15"
+        app:layout_constraintTop_toBottomOf="@+id/textView15" />
+
+    <TextView
+        android:id="@+id/tvtReceivedBy"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="80dp"
+        android:text="TextView"
+        app:layout_constraintBottom_toBottomOf="@+id/textView17"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toEndOf="@+id/textView17"
+        app:layout_constraintTop_toTopOf="@+id/textView17"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <Button
+        android:id="@+id/btnOk"
+        android:layout_width="313dp"
+        android:layout_height="52dp"
+        android:layout_marginBottom="20dp"
+        android:text="OK"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.571"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/imagePreview"
+        app:layout_constraintVertical_bias="1.0" />
+
+    <ImageView
+        android:id="@+id/imagePreview"
+        android:layout_width="200dp"
+        android:layout_height="200dp"
+        android:layout_marginTop="36dp"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.54"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/textView17" />
+</androidx.constraintlayout.widget.ConstraintLayout>
+</layout>
Index: app/src/main/java/my/edu/tarc/warehouserit3g2/OnReceivedDetail.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/my/edu/tarc/warehouserit3g2/OnReceivedDetail.kt b/app/src/main/java/my/edu/tarc/warehouserit3g2/OnReceivedDetail.kt
new file mode 100644
--- /dev/null	(date 1630509245656)
+++ b/app/src/main/java/my/edu/tarc/warehouserit3g2/OnReceivedDetail.kt	(date 1630509245656)
@@ -0,0 +1,123 @@
+package my.edu.tarc.warehouserit3g2
+
+import android.content.ContentValues
+import android.content.Intent
+import android.graphics.Bitmap
+import android.graphics.Color
+import androidx.appcompat.app.AppCompatActivity
+import android.os.Bundle
+import android.util.Log
+import android.widget.Toast
+import androidx.databinding.DataBindingUtil
+import com.google.firebase.firestore.ktx.firestore
+import com.google.firebase.ktx.Firebase
+import com.google.zxing.BarcodeFormat
+import com.google.zxing.MultiFormatWriter
+import com.google.zxing.WriterException
+import my.edu.tarc.warehouserit3g2.databinding.ActivityOnReceivedDetailBinding
+import java.text.SimpleDateFormat
+import java.util.*
+
+class OnReceivedDetail : AppCompatActivity() {
+    private lateinit var binding: ActivityOnReceivedDetailBinding
+
+
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setContentView(R.layout.activity_on_received_detail)
+
+        binding = DataBindingUtil.setContentView(this, R.layout.activity_on_received_detail)
+
+        var partNumberDatabase = ""
+        var quantityDataBase = ""
+        var serialNumber = ""
+        val myArray3 = arrayOf<String>("SE","RE","SA","YO","RA","KE")
+        val bundle = intent.extras
+        val barcode = bundle?.getString("BarcodeNumber").toString()
+        val db = Firebase.firestore
+        Log.w(ContentValues.TAG, "barcode 2 = ${barcode}")
+
+        db.collection("Barcode").document(barcode)
+            .get()
+            .addOnSuccessListener { result ->
+                Log.d(ContentValues.TAG, "Abaaba")
+                if(result.data != null){
+
+                    Log.d(ContentValues.TAG, "DocumentSnapshot result data: ${result.data}")
+                    val randomInt = (0..5).random()
+
+                    val rnd = Random()
+                    val number: Int = rnd.nextInt(999999999)
+                    var no = String.format("%07d", number)
+                    val sdf = SimpleDateFormat("dd/M/yyyy")
+                    val currentDate = sdf.format(Date())
+                    val receivedBy = "Data Kang"
+
+                    partNumberDatabase = result.data?.get("partNo").toString()
+                    quantityDataBase = result.data?.get("quantity").toString()
+                    serialNumber = myArray3[randomInt] + no
+
+                    Log.d(ContentValues.TAG, "DocumentSnapshot part data: ${partNumberDatabase}")
+                    Log.d(ContentValues.TAG, "DocumentSnapshot qty data: ${quantityDataBase}")
+
+
+
+
+                    Log.d(ContentValues.TAG, "Serial number: ${serialNumber}")
+                    val bitmap = generateQRCode(serialNumber)
+                    binding.imagePreview.setImageBitmap(bitmap)
+
+                    binding.tvtPartNo.text = partNumberDatabase.toString()
+                    binding.tvtQuantity.text = quantityDataBase.toString()
+                    binding.tvtSerialNo.text = serialNumber.toString()
+                    binding.tvtStatus.text = "received"
+                    binding.tvtReceivedDate.text = currentDate
+                    binding.tvtReceivedBy.text = receivedBy
+                    saveData(partNumberDatabase, quantityDataBase, serialNumber, "received", currentDate,receivedBy)
+
+                    binding.btnOk.setOnClickListener{
+                        val intent:Intent = Intent(this, On_Received::class.java)
+                        startActivity(intent)
+                    }
+
+                }
+
+
+
+            }.addOnFailureListener { exception ->
+                Log.d(ContentValues.TAG, "getfailedwith ", exception)
+            }
+    }
+
+    private fun generateQRCode(text: String): Bitmap {
+        val width = 400
+        val height = 400
+        val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)
+        val codeWriter = MultiFormatWriter()
+        try {
+            val bitMatrix = codeWriter.encode(text, BarcodeFormat.QR_CODE, width, height)
+            for (x in 0 until width) {
+                for (y in 0 until height) {
+                    bitmap.setPixel(x, y, if (bitMatrix[x, y]) Color.BLACK else Color.WHITE)
+                }
+            }
+        } catch (e: WriterException) { Log.d(ContentValues.TAG, "generateQRCode: ${e.message}") }
+        return bitmap
+    }
+
+    private fun saveData(partNo: String, quantity: String, serialNo: String, Status :String, Date :String, ReceivedBy :String){
+
+        val db = Firebase.firestore
+        val barcodeValue = hashMapOf(
+            "PartNo" to partNo,
+            "quantity" to quantity.toInt(),
+            "serialNo" to serialNo,
+            "Status" to Status,
+            "ReceivedDate" to Date,
+            "ReceivedBy" to ReceivedBy
+        )
+
+        db.collection("ReceivedProduct").document(serialNo).set(barcodeValue)
+    }
+}
\ No newline at end of file
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath \"com.android.tools.build:gradle:7.0.0\"\r\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21\"\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/build.gradle	(date 1630316094185)
@@ -7,6 +7,8 @@
     dependencies {
         classpath "com.android.tools.build:gradle:7.0.0"
         classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21"
+        classpath "androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5"
+        classpath 'com.google.gms:google-services:4.3.10'
 
         // NOTE: Do not place your application dependencies here; they belong
         // in the individual module build.gradle files
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">WarehouseRIT3G2</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/app/src/main/res/values/strings.xml	(date 1630395406245)
@@ -1,3 +1,5 @@
 <resources>
     <string name="app_name">WarehouseRIT3G2</string>
+    <!-- TODO: Remove or change this placeholder text -->
+    <string name="hello_blank_fragment">Hello blank fragment</string>
 </resources>
\ No newline at end of file
Index: app/src/main/java/my/edu/tarc/warehouserit3g2/KtApplication.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/my/edu/tarc/warehouserit3g2/KtApplication.kt b/app/src/main/java/my/edu/tarc/warehouserit3g2/KtApplication.kt
new file mode 100644
--- /dev/null	(date 1630343752439)
+++ b/app/src/main/java/my/edu/tarc/warehouserit3g2/KtApplication.kt	(date 1630343752439)
@@ -0,0 +1,11 @@
+package my.edu.tarc.warehouserit3g2
+
+
+import androidx.multidex.MultiDexApplication
+
+class KtApplication: MultiDexApplication(){
+    override fun onCreate() {
+        super.onCreate()
+
+    }
+}
\ No newline at end of file
Index: app/src/main/java/my/edu/tarc/warehouserit3g2/On_Received.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/my/edu/tarc/warehouserit3g2/On_Received.kt b/app/src/main/java/my/edu/tarc/warehouserit3g2/On_Received.kt
new file mode 100644
--- /dev/null	(date 1630401973768)
+++ b/app/src/main/java/my/edu/tarc/warehouserit3g2/On_Received.kt	(date 1630401973768)
@@ -0,0 +1,89 @@
+package my.edu.tarc.warehouserit3g2
+
+import android.content.ContentValues
+import android.content.Intent
+import androidx.appcompat.app.AppCompatActivity
+import android.os.Bundle
+import android.util.Log
+import android.widget.Toast
+import androidx.databinding.DataBindingUtil
+import com.google.firebase.firestore.ktx.firestore
+import com.google.firebase.ktx.Firebase
+import com.google.zxing.integration.android.IntentIntegrator
+import com.google.zxing.integration.android.IntentResult
+import my.edu.tarc.warehouserit3g2.databinding.ActivityOnReceivedBinding
+import my.edu.tarc.warehouserit3g2.databinding.ActivityProductionBarcodeBinding
+
+class On_Received : AppCompatActivity() {
+
+    var scannedResult: String = ""
+    private lateinit var binding: ActivityOnReceivedBinding
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setContentView(R.layout.activity_on_received)
+
+        binding = DataBindingUtil.setContentView(this, R.layout.activity_on_received)
+
+
+        binding.btnScan.setOnClickListener {
+            run {
+                IntentIntegrator(this@On_Received).initiateScan();
+            }
+        }
+    }
+
+
+    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {
+
+        var result: IntentResult? = IntentIntegrator.parseActivityResult(requestCode, resultCode, data)
+        val db = Firebase.firestore
+
+        if (result != null) {
+
+            if (result.contents != null) {
+                scannedResult = result.contents
+                binding.textView6.text = scannedResult
+                binding.txtValue.text = scannedResult
+
+                db.collection("Barcode").document(scannedResult)
+                    .get()
+                    .addOnSuccessListener { result ->
+                        if(result.data == null){
+                            Toast.makeText(applicationContext, "Invalid Bar code. Please try again !!", Toast.LENGTH_LONG).show()
+                        }else{
+                            val intent: Intent = Intent(this, OnReceivedDetail::class.java)
+                            intent.putExtra("BarcodeNumber", scannedResult)
+                            Log.w(ContentValues.TAG, "partNo 2 = ${scannedResult}")
+                            startActivity(intent)
+                        }
+                    }
+
+
+            } else {
+                binding.textView6.text = "scan failed"
+            }
+        } else {
+            super.onActivityResult(requestCode, resultCode, data)
+        }
+    }
+
+
+    override fun onSaveInstanceState(outState: Bundle) {
+
+        outState?.putString("scannedResult", scannedResult)
+        super.onSaveInstanceState(outState)
+    }
+
+    override fun onRestoreInstanceState(savedInstanceState: Bundle) {
+        super.onRestoreInstanceState(savedInstanceState)
+
+        savedInstanceState?.let {
+            scannedResult = it.getString("scannedResult").toString()
+            binding.txtValue.text = scannedResult
+            Log.w(ContentValues.TAG, "partNo 3 = ${scannedResult}")
+        }
+    }
+
+
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_on_received.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_on_received.xml b/app/src/main/res/layout/activity_on_received.xml
new file mode 100644
--- /dev/null	(date 1630514153773)
+++ b/app/src/main/res/layout/activity_on_received.xml	(date 1630514153773)
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:tools="http://schemas.android.com/tools"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+<androidx.constraintlayout.widget.ConstraintLayout
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".On_Received">
+
+
+    <!--app:layout_constraintTop_toBottomOf="@+id/barcodeView"-->
+
+
+    <TextView
+        android:id="@+id/txtValueLabel"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Scanned Value: "
+
+        tools:layout_editor_absoluteX="263dp"
+        tools:layout_editor_absoluteY="696dp" />
+
+    <TextView
+        android:id="@+id/txtValue"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="{{please scan first}}"
+        tools:layout_editor_absoluteX="105dp"
+        tools:layout_editor_absoluteY="696dp" />
+
+    <Button
+        android:id="@+id/btnScan"
+        android:layout_width="315dp"
+        android:layout_height="72dp"
+        android:layout_marginTop="156dp"
+        android:text="Scan"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/imageView2" />
+
+    <TextView
+        android:id="@+id/textView6"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="TextView"
+        tools:layout_editor_absoluteX="16dp"
+        tools:layout_editor_absoluteY="694dp" />
+
+    <ImageView
+        android:id="@+id/imageView2"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="156dp"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        tools:srcCompat="@drawable/img" />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
+</layout>
\ No newline at end of file
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"GRADLE\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"11\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/gradle.xml b/.idea/gradle.xml
--- a/.idea/gradle.xml	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/.idea/gradle.xml	(date 1630048657147)
@@ -1,5 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
+  <component name="GradleMigrationSettings" migrationVersion="1" />
   <component name="GradleSettings">
     <option name="linkedExternalProjectsSettings">
       <GradleProjectSettings>
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/MSI GF75/Desktop/mobile appication development/WarehouseRIT3G2/app/src/main/res/layout/activity_main.xml\" value=\"0.21331521739130435\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\" />\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/.idea/misc.xml	(date 1630507878836)
@@ -3,10 +3,16 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/OnReceivedDetail.xml" value="0.36666666666666664" />
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/activity_main.xml" value="0.25416666666666665" />
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/activity_on_received.xml" value="0.264" />
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/activity_on_received_detail.xml" value="0.264" />
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/activity_production_barcode.xml" value="0.38289601554907676" />
+        <entry key="..\:/Users/ASUS/AndroidStudioProjects/WarehouseRIT3G2/app/src/main/res/layout/custom_barcode_layout.xml" value="0.36666666666666664" />
         <entry key="..\:/Users/MSI GF75/Desktop/mobile appication development/WarehouseRIT3G2/app/src/main/res/layout/activity_main.xml" value="0.21331521739130435" />
       </map>
     </option>
   </component>
   <component name="ExternalStorageConfigurationManager" enabled="true" />
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="11" project-jdk-type="JavaSDK" />
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="11" project-jdk-type="JavaSDK" />
 </project>
\ No newline at end of file
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"purple_200\">#FFBB86FC</color>\r\n    <color name=\"purple_500\">#FF6200EE</color>\r\n    <color name=\"purple_700\">#FF3700B3</color>\r\n    <color name=\"teal_200\">#FF03DAC5</color>\r\n    <color name=\"teal_700\">#FF018786</color>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"white\">#FFFFFFFF</color>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
--- a/app/src/main/res/values/colors.xml	(revision 7a69fdddff31f23d2b916571ca5b8a4061ca7535)
+++ b/app/src/main/res/values/colors.xml	(date 1630342503074)
@@ -7,4 +7,6 @@
     <color name="teal_700">#FF018786</color>
     <color name="black">#FF000000</color>
     <color name="white">#FFFFFFFF</color>
+    <color name="colorPrimary">#008577</color>
+
 </resources>
\ No newline at end of file
Index: app/src/main/java/my/edu/tarc/warehouserit3g2/productionBarcode.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/my/edu/tarc/warehouserit3g2/productionBarcode.kt b/app/src/main/java/my/edu/tarc/warehouserit3g2/productionBarcode.kt
new file mode 100644
--- /dev/null	(date 1630398387124)
+++ b/app/src/main/java/my/edu/tarc/warehouserit3g2/productionBarcode.kt	(date 1630398387124)
@@ -0,0 +1,181 @@
+package my.edu.tarc.warehouserit3g2
+
+import android.content.ContentValues
+import android.graphics.Bitmap
+import android.graphics.Color
+import android.os.Build
+import androidx.appcompat.app.AppCompatActivity
+import android.os.Bundle
+import android.util.Log
+import android.view.Gravity
+import android.widget.Toast
+import androidx.annotation.ColorInt
+import androidx.annotation.RequiresApi
+import androidx.core.content.ContextCompat
+import com.google.zxing.BarcodeFormat
+import com.google.zxing.oned.Code128Writer
+import androidx.databinding.DataBindingUtil
+import com.google.firebase.firestore.ktx.firestore
+import com.google.firebase.ktx.Firebase
+
+import my.edu.tarc.warehouserit3g2.databinding.ActivityProductionBarcodeBinding
+import org.w3c.dom.Text
+import java.util.*
+
+class productionBarcode : AppCompatActivity() {
+
+    private lateinit var binding: ActivityProductionBarcodeBinding
+
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+
+        super.onCreate(savedInstanceState)
+        setContentView(R.layout.activity_production_barcode)
+
+        binding = DataBindingUtil.setContentView(this, R.layout.activity_production_barcode)
+        binding.submitBtn.setOnClickListener {
+
+            val productID = binding.EnterProductID.text.toString()
+            val qty = binding.EnterQty.text.toString()
+            val db = Firebase.firestore
+
+            val rnd = Random()
+            val number: Int = rnd.nextInt(999999999)
+            var no = String.format("%07d", number)
+            var pdID = ""
+            var partNumberDatabase = ""
+            var quantityDataBase = ""
+            var checkExist = 0
+
+            if (productID.isEmpty() || qty.isEmpty()) {
+
+                Toast.makeText(
+                    applicationContext,
+                    "Please Enter the part number and quantity !!",
+                    Toast.LENGTH_SHORT
+                ).show()
+            } else {
+
+                db.collection("Barcode")
+                    .get()
+                    .addOnSuccessListener { result ->
+                        for (document in result) {
+                            Log.d(ContentValues.TAG, "${document.id} => ${document.data}")
+
+                            pdID = document.id
+                            partNumberDatabase = document.data.get("partNo").toString()
+                            quantityDataBase = document.data.get("quantity").toString()
+
+
+                            if (productID == partNumberDatabase && qty == quantityDataBase) {
+                                Log.w(ContentValues.TAG, "Error .")
+                                Toast.makeText(
+                                    applicationContext,
+                                    "The part number and quantity is existed. Please try another!",
+                                    Toast.LENGTH_LONG
+                                ).show()
+                                checkExist = 1
+                                break
+                            } else {
+                                Log.w(ContentValues.TAG, "partNo 2 = ${partNumberDatabase}")
+                                Log.w(ContentValues.TAG, "quantity 3 = ${quantityDataBase}")
+                            }
+
+//
+
+                        }
+
+                        if(checkExist != 1) {
+                            while (pdID == no) {
+                                no = rnd.nextInt(999999999).toString().format("%06d", number)
+                                Log.w(ContentValues.TAG, "repeat")
+                            }
+                            Log.w(ContentValues.TAG, "productID 1 = ${no}")
+
+
+                            val barcodeValue = hashMapOf(
+                                "partNo" to productID,
+                                "quantity" to qty.toString().toInt()
+                            )
+
+                            db.collection("Barcode").document(no).set(barcodeValue)
+
+                            displayBitmap(no)
+                        }
+
+                    }
+                    .addOnFailureListener { exception ->
+                        Log.w(ContentValues.TAG, "Error getting documents.", exception)
+                    }
+
+
+            }
+
+
+        }
+    }
+
+
+    private fun displayBitmap(value: String) {
+        binding = DataBindingUtil.setContentView(this, R.layout.activity_production_barcode)
+        val widthPixels = resources.getDimensionPixelSize(R.dimen.width_barcode)
+        val heightPixels = resources.getDimensionPixelSize(R.dimen.height_barcode)
+
+        val white = "#ffffff"
+        val purple = "#ffbb86fc"
+        val borderInt: Int = Color.parseColor(purple)
+        val backgroundInt: Int = Color.parseColor(white)
+        binding.imageBarcode.setImageBitmap(
+
+            createBarcodeBitmap(
+                barcodeValue = value,
+                barcodeColor = borderInt,
+                backgroundColor = backgroundInt,
+                widthPixels = widthPixels,
+                heightPixels = heightPixels
+            )
+        )
+        binding.textBarcodeNumber.text = value
+    }
+
+    private fun createBarcodeBitmap(
+        barcodeValue: String,
+        @ColorInt barcodeColor: Int,
+        @ColorInt backgroundColor: Int,
+        widthPixels: Int,
+        heightPixels: Int
+    ): Bitmap {
+        val bitMatrix = Code128Writer().encode(
+            barcodeValue,
+            BarcodeFormat.CODE_128,
+            widthPixels,
+            heightPixels
+        )
+
+        val pixels = IntArray(bitMatrix.width * bitMatrix.height)
+        for (y in 0 until bitMatrix.height) {
+            val offset = y * bitMatrix.width
+            for (x in 0 until bitMatrix.width) {
+                pixels[offset + x] =
+                    if (bitMatrix.get(x, y)) barcodeColor else backgroundColor
+            }
+        }
+
+        val bitmap = Bitmap.createBitmap(
+            bitMatrix.width,
+            bitMatrix.height,
+            Bitmap.Config.ARGB_8888
+        )
+        bitmap.setPixels(
+            pixels,
+            0,
+            bitMatrix.width,
+            0,
+            0,
+            bitMatrix.width,
+            bitMatrix.height
+        )
+        return bitmap
+    }
+
+}
\ No newline at end of file
Index: app/src/main/res/values/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/dimens.xml b/app/src/main/res/values/dimens.xml
new file mode 100644
--- /dev/null	(date 1630250867033)
+++ b/app/src/main/res/values/dimens.xml	(date 1630250867033)
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+
+    <dimen name="width_barcode">300dp</dimen>
+    <dimen name="height_barcode">65dp</dimen>
+
+</resources>
\ No newline at end of file
Index: app/src/main/res/layout/activity_production_barcode.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_production_barcode.xml b/app/src/main/res/layout/activity_production_barcode.xml
new file mode 100644
--- /dev/null	(date 1630257389241)
+++ b/app/src/main/res/layout/activity_production_barcode.xml	(date 1630257389241)
@@ -0,0 +1,92 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:tools="http://schemas.android.com/tools"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+<androidx.constraintlayout.widget.ConstraintLayout
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".productionBarcode">
+
+    <ImageView
+        android:id="@+id/image_barcode"
+        android:layout_width="@dimen/width_barcode"
+        android:layout_height="wrap_content"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintHorizontal_bias="0.495"
+        app:layout_constraintLeft_toLeftOf="parent"
+        app:layout_constraintRight_toRightOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintVertical_bias="0.623" />
+
+    <TextView
+        android:id="@+id/text_barcode_number"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="56dp"
+        android:gravity="center"
+        android:textColor="@color/black"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@id/image_barcode"
+        tools:text="1234 65290 9855 65252" />
+
+    <TextView
+        android:id="@+id/textView4"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="12dp"
+        android:layout_marginTop="40dp"
+        android:text="Quantity :"
+        app:layout_constraintStart_toStartOf="@+id/textView5"
+        app:layout_constraintTop_toBottomOf="@+id/textView5" />
+
+    <TextView
+        android:id="@+id/textView5"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="52dp"
+        android:layout_marginTop="52dp"
+        android:text="Product ID :"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <EditText
+        android:id="@+id/EnterProductID"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="15dp"
+        android:ems="10"
+        android:inputType="textPersonName"
+        app:layout_constraintBottom_toBottomOf="@+id/textView5"
+        app:layout_constraintStart_toEndOf="@+id/textView5"
+        app:layout_constraintTop_toTopOf="@+id/textView5"
+        app:layout_constraintVertical_bias="1.0" />
+
+
+    <Button
+        android:id="@+id/submitBtn"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="60dp"
+        android:text="Submit"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.498"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/EnterQty" />
+
+    <EditText
+        android:id="@+id/EnterQty"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="16dp"
+        android:ems="10"
+        android:inputType="number"
+        app:layout_constraintBottom_toBottomOf="@+id/textView4"
+        app:layout_constraintStart_toEndOf="@+id/textView4"
+        app:layout_constraintTop_toTopOf="@+id/textView4"
+        app:layout_constraintVertical_bias="0.538" />
+
+
+</androidx.constraintlayout.widget.ConstraintLayout>
+</layout>
\ No newline at end of file
